/***********************************************************************
This file is generated by: Vczh Parser Generator
From parser definition:Workflow
Licensed under https://github.com/vczh-libraries/License
***********************************************************************/

#ifndef VCZH_WORKFLOW_PARSER_PARSER_SYNTAX
#define VCZH_WORKFLOW_PARSER_PARSER_SYNTAX

#include "Workflow_Assembler.h"
#include "Workflow_Lexer.h"

namespace vl::workflow
{
	enum class ParserStates
	{
		_Type = 0,
		_CtorFragment = 50,
		_LetVariable = 55,
		_VirtualExpression = 60,
		_BeginBoundary = -1,
		_EndBoundary = -1,
		_SetTestingOperator = -1,
		_ExpPrimitive = 81,
		_Exp0 = 220,
		_Exp1 = 234,
		_Exp2 = 240,
		_Exp3 = 252,
		_Exp4 = 267,
		_Exp5 = 276,
		_Exp6 = 297,
		_Exp7 = 303,
		_Exp8 = 309,
		_Exp9 = 315,
		_Exp10 = 321,
		_Exp11 = 329,
		_Expression = 335,
		_SwitchCase = 338,
		_Block = 344,
		_ElseStat = 352,
		_If = 356,
		_ForOperator = -1,
		_VirtualStatement = 370,
		_CoStatement = 391,
		_CoProvider = 403,
		_StateSwitchHead = 408,
		_StateSwitchArgument = 422,
		_StateSwitchCase = 425,
		_StateStatement = 436,
		_Statement = 456,
		_StateInput = 496,
		_StateDecl = 505,
		_StateMachine = 515,
		_Attribute = 522,
		_Namespace = 531,
		_FunctionArgument = 538,
		_FunctionArgumentList = -1,
		_FunctionStat = 544,
		_FunctionBody = -1,
		_FunctionKind = -1,
		_Function = 548,
		_Variable = 572,
		_Event = 581,
		_Property = 590,
		_StaticInit = 603,
		_BaseConstructorCall = 607,
		_ConstructorType = -1,
		_Constructor = 615,
		_Destructor = 628,
		_ClassBody = -1,
		_Class = 632,
		_EnumItemNumber = -1,
		_EnumItemInt = 660,
		_EnumItemFlags = -1,
		_EnumItem = 663,
		_EnumItemWithFlags = 670,
		_Enum = 680,
		_StructMember = 694,
		_Struct = 701,
		_APConfig = -1,
		_AutoPropertyKind = -1,
		_AutoProperty = 708,
		_CastResultInterface = 735,
		_DeclarationCandidates = 745,
		_Declaration = 760,
		_UsingFragment = 764,
		_UsingItem = 768,
		_UsingPath = 772,
		_ModuleBody = -1,
		_Module = 779,
	};

	const wchar_t* ParserRuleName(vl::vint index);
	const wchar_t* ParserStateLabel(vl::vint index);
	extern void WorkflowParserData(vl::stream::IStream& outputStream);

	class Parser
		: public vl::glr::ParserBase<WorkflowTokens, ParserStates, WorkflowAstInsReceiver>
		, protected vl::glr::automaton::IExecutor::ITypeCallback
	{
	protected:
		vl::WString GetClassName(vl::vint32_t classIndex) const override;
		vl::vint32_t FindCommonBaseClass(vl::vint32_t class1, vl::vint32_t class2) const override;
	public:
		Parser();

		vl::Ptr<vl::workflow::WfType> Parse_Type(const vl::WString& input, vl::vint codeIndex = -1) const;
		vl::Ptr<vl::workflow::WfType> Parse_Type(vl::collections::List<vl::regex::RegexToken>& tokens, vl::vint codeIndex = -1) const;
		vl::Ptr<vl::workflow::WfExpression> Parse_Expression(const vl::WString& input, vl::vint codeIndex = -1) const;
		vl::Ptr<vl::workflow::WfExpression> Parse_Expression(vl::collections::List<vl::regex::RegexToken>& tokens, vl::vint codeIndex = -1) const;
		vl::Ptr<vl::workflow::WfCoProviderStatement> Parse_CoProvider(const vl::WString& input, vl::vint codeIndex = -1) const;
		vl::Ptr<vl::workflow::WfCoProviderStatement> Parse_CoProvider(vl::collections::List<vl::regex::RegexToken>& tokens, vl::vint codeIndex = -1) const;
		vl::Ptr<vl::workflow::WfStatement> Parse_Statement(const vl::WString& input, vl::vint codeIndex = -1) const;
		vl::Ptr<vl::workflow::WfStatement> Parse_Statement(vl::collections::List<vl::regex::RegexToken>& tokens, vl::vint codeIndex = -1) const;
		vl::Ptr<vl::workflow::WfDeclaration> Parse_Declaration(const vl::WString& input, vl::vint codeIndex = -1) const;
		vl::Ptr<vl::workflow::WfDeclaration> Parse_Declaration(vl::collections::List<vl::regex::RegexToken>& tokens, vl::vint codeIndex = -1) const;
		vl::Ptr<vl::workflow::WfModule> Parse_Module(const vl::WString& input, vl::vint codeIndex = -1) const;
		vl::Ptr<vl::workflow::WfModule> Parse_Module(vl::collections::List<vl::regex::RegexToken>& tokens, vl::vint codeIndex = -1) const;
	};
}
#endif